{% extends "layout.html" %}
{% block content %}

<div id="quiz-container">
    {% if item %}
    <!-- First Row: Title and Score Info -->
    <div class="row">
        <div class="col-md-12">
            <div class="what-country edit-h1">What country is this accent from?</div>
            <div class="question-track">
                {{ current_question_number }}/{{ total_questions }}            
            </div>
            <div class="score-box-align">
                <div class="score-container">
                    Score: {{ score }}
                </div>
            </div>

        </div>
    </div>
    

    <!-- Second Row: Audio and Options -->
    <div class="row">
        <div class="col-md-3 q-audio-and-image-formatting">
            {% if item.audio_quiz %}
            <!-- First Audio Element -->
            <audio controls class="quiz-audio-button mb-2">
                <source src="{{ url_for('static', filename='audio/' + item.audio_quiz) }}" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            <div class="audio-label">Example 1</div> <!-- Label for the first audio -->

            <!-- Second Audio Element -->
            <audio controls class="quiz-audio-button">
                <source src="{{ url_for('static', filename='audio/' + item.audio_quiz) }}" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            <div class="audio-label">Example 2</div> <!-- Label for the second audio -->
            {% endif %}
        </div>

        <div class="col-md-9">
                <div class="option-container d-flex justify-content-center flex-wrap">
                    {% for option in item.options %}
                    <button type="button" id="option-button" class="btn btn-outline-primary option-button mx-2 my-1">
                        {{ option }}
                    </button>
                    {% endfor %}
                </div>
                <!-- Submit Button for checking answers -->
                <button id="submit-answer" data-url="{{ url_for('quiz', quiz_id=quiz_id) }}" class="submit-button "disabled>Submit Answer</button>
        </div>
    </div>
    <input type="hidden" name="selectedAnswer" id="selectedAnswer">
    <input type="hidden" name="attempts" value="{{ attempts }}">
    <input type="hidden" name="score" value="{{ score }}">
    <div id="quiz-id" data-quiz-id="{{ quiz_id }}"></div>

    <!-- Third Row: Next Button and Feedback -->
    <div class="row">
        <div class="col-md-12 text-center">
                <button id="next-question" class="next-button-style btn btn-primary mt-3" disabled> Continue</button>
                {% if feedback %}
                <div id="feedback-container" class="alert alert-info feedback-style mx-auto mt-2">
                    {{ feedback }}
                </div>
                {% endif %}
        </div>
    </div>
    <input type="hidden" name="score" value="{{ score }}">

    {% else %}
    <p class="no-quiz-data">No quiz data found.</p>
    {% endif %}
</div>

<script src="{{ url_for('static', filename='js/quiz.js') }}"></script>

{% endblock %}